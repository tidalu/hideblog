const a0_0xc567aa=a0_0x1766;(function(_0x2ff7f8,_0x38b27f){const _0x44ae33=a0_0x1766,_0x554a28=_0x2ff7f8();while(!![]){try{const _0x14b5cd=parseInt(_0x44ae33(0xe1))/0x1*(-parseInt(_0x44ae33(0x107))/0x2)+-parseInt(_0x44ae33(0xf7))/0x3+parseInt(_0x44ae33(0x135))/0x4*(-parseInt(_0x44ae33(0x113))/0x5)+parseInt(_0x44ae33(0xf6))/0x6*(-parseInt(_0x44ae33(0x118))/0x7)+parseInt(_0x44ae33(0x153))/0x8*(parseInt(_0x44ae33(0x146))/0x9)+parseInt(_0x44ae33(0x10a))/0xa+parseInt(_0x44ae33(0xe0))/0xb;if(_0x14b5cd===_0x38b27f)break;else _0x554a28['push'](_0x554a28['shift']());}catch(_0x163211){_0x554a28['push'](_0x554a28['shift']());}}}(a0_0x2d7b,0x91c0c));let username='',messages=[],blogs=[],currentBlogId=null,replyingTo=null;document['getElementById'](a0_0xc567aa(0x120))[a0_0xc567aa(0x12e)](a0_0xc567aa(0x11d),saveUsername),document['getElementById'](a0_0xc567aa(0x13c))['addEventListener'](a0_0xc567aa(0x11d),checkBlogPassword),document[a0_0xc567aa(0xf2)]('closeBlogModal')['addEventListener'](a0_0xc567aa(0x11d),closeBlogModal),document[a0_0xc567aa(0xf2)](a0_0xc567aa(0x13f))['addEventListener'](a0_0xc567aa(0x11d),sendMessage),window[a0_0xc567aa(0x139)]=function(){const _0x1aa77b=a0_0xc567aa,_0x48c90c=JSON[_0x1aa77b(0xe9)](localStorage[_0x1aa77b(0x100)](_0x1aa77b(0x131)));_0x48c90c&&_0x48c90c['expiry']>Date[_0x1aa77b(0xec)]()&&(username=_0x48c90c[_0x1aa77b(0xed)],document[_0x1aa77b(0xf2)]('login-modal')['style'][_0x1aa77b(0xff)]=_0x1aa77b(0x138),fetchBlogs());};function saveUsername(){const _0x48cb67=a0_0xc567aa,_0x7ad646=document[_0x48cb67(0xf2)](_0x48cb67(0xed))['value'];if(_0x7ad646[_0x48cb67(0xdf)]()){username=_0x7ad646;const _0x56679d=Date[_0x48cb67(0xec)]()+0x1e*0x3c*0x3e8;localStorage[_0x48cb67(0xfa)](_0x48cb67(0x131),JSON['stringify']({'username':username,'expiry':_0x56679d})),document[_0x48cb67(0xf2)](_0x48cb67(0x148))[_0x48cb67(0x105)][_0x48cb67(0xff)]='none',fetchBlogs();}else alert(_0x48cb67(0x10c));}function fetchBlogs(){const _0x3c0ec5=a0_0xc567aa,_0x4a9e0c=document[_0x3c0ec5(0xf2)]('blog-list'),_0x3c9b73=document[_0x3c0ec5(0xf2)](_0x3c0ec5(0x108));_0x4a9e0c[_0x3c0ec5(0x105)]['display']=_0x3c0ec5(0xde),_0x3c9b73[_0x3c0ec5(0x105)][_0x3c0ec5(0xff)]=_0x3c0ec5(0xde),fetch(_0x3c0ec5(0x14e))[_0x3c0ec5(0x112)](_0x5b8852=>{const _0x39c039=_0x3c0ec5;if(!_0x5b8852['ok'])throw new Error(_0x39c039(0x14d));return _0x5b8852[_0x39c039(0x12b)]();})[_0x3c0ec5(0x112)](_0x217337=>{blogs=_0x217337,displayBlogList();})['catch'](_0xaba1f9=>{const _0x50d9d4=_0x3c0ec5;console['error'](_0x50d9d4(0xe8),_0xaba1f9),_0x3c9b73[_0x50d9d4(0x105)][_0x50d9d4(0xff)]=_0x50d9d4(0x138),_0x4a9e0c[_0x50d9d4(0x13e)]=_0x50d9d4(0x14b);});}function a0_0x2d7b(){const _0x1abac2=['blog-password-prompt','forEach','add','display','getItem','map','classList','</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22reply-btn\x22\x20onclick=\x22setReplyingTo(\x27','Generated\x20ID\x20for\x20message:','style','application/json','4DiYSZg','skeleton','\x27)\x22>Read\x20More</button>\x0a\x20\x20\x20\x20','4302660iwmoZq','messageInput','Iltimos,\x20ismingizni\x20kiriting!','textContent','Fetched\x20messages\x20from\x20server:','highlighted','blog-item','log','then','245cYKVHb','message','push','</h3>\x0a\x20\x20\x20\x20\x20\x20<p>','blog-content','2219pFJghN','dataset','Noto‘g‘ri\x20parol!','toString','Xabar\x20yozing...','click','querySelector','Filtered\x20and\x20processed\x20messages:','submitButton','value','other','no-cors','text','Xabar\x20yozing\x20yoki\x20blog\x20tanlanmagan!','<div\x20class=\x22reply-preview\x22>javob\x20\x20berilgan\x20xabar\x20o\x27chirilgan</div>','title','removeItem','length','preview','json','blog-password','blog-modal','addEventListener','\x20uchun\x20parolni\x20kiriting:','find','authData','\x0a\x20\x20\x20\x20\x20\x20','Message\x20not\x20found\x20for\x20reply,\x20ID:','we\x20should','92436yqfuJo','scrollTop','substr','none','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22reply-preview\x22\x20onclick=\x22highlightMessage(\x27','focus','passwordSubmit','substring','innerHTML','sendButton','error','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22text\x22>','Message\x20element\x20not\x20found\x20for\x20highlighting,\x20ID:','className','isArray','Error\x20fetching\x20messages:','488718jKsKvv','Message\x20sent\x20to\x20Google\x20Sheets:','login-modal','blog-list','Replying\x20to\x20message:','<p>Bloglarni\x20yuklashda\x20xatolik\x20yuz\x20berdi.</p>','<p>No\x20blogs\x20available.</p>','Failed\x20to\x20fetch\x20blogs','https://script.google.com/macros/s/AKfycbxaNOYqh4KMrw8-LaPwvwEbRi95zHoTYF-ydEdI6K-wqpj5lKVCIUcsumDgRFO4bVEG8w/exec?sheet=blogs','flex','<p\x20class=\x27no-messages\x27>Hozircha\x20xabarlar\x20yo‘q</p>','...','password-modal','96vVLJDD','block','trim','22446325hZPAtM','279913MgZjDQ','https://script.google.com/macros/s/AKfycbxaNOYqh4KMrw8-LaPwvwEbRi95zHoTYF-ydEdI6K-wqpj5lKVCIUcsumDgRFO4bVEG8w/exec?sheet=messages','</p>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22promptBlogPassword(\x27','remove','warn','chat','appendChild','Error\x20fetching\x20blogs:','parse','</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22timestamp\x22>','createElement','now','username','div','user','catch','blogId','getElementById','placeholder','Replying\x20to\x20','.message[data-id=\x22','9570ejiDzm','983037GnzvHK','scrollHeight','replyTo','setItem','\x0a\x20\x20\x20\x20\x20\x20<h3>'];a0_0x2d7b=function(){return _0x1abac2;};return a0_0x2d7b();}function displayBlogList(){const _0x144014=a0_0xc567aa,_0x5eecf6=document[_0x144014(0xf2)](_0x144014(0x149)),_0x4c3a88=document[_0x144014(0xf2)](_0x144014(0x108));_0x4c3a88['style'][_0x144014(0xff)]='none',_0x5eecf6[_0x144014(0x13e)]='';if(!Array[_0x144014(0x144)](blogs)){console[_0x144014(0x140)]('Blogs\x20is\x20not\x20an\x20array:',blogs),_0x5eecf6[_0x144014(0x13e)]=_0x144014(0x14c);return;}blogs[_0x144014(0xfd)](_0x26e27d=>{const _0x574422=_0x144014,_0x44710e=document[_0x574422(0xeb)](_0x574422(0xee));_0x44710e[_0x574422(0x143)]=_0x574422(0x110),_0x44710e['innerHTML']=_0x574422(0xfb)+_0x26e27d[_0x574422(0x127)]+_0x574422(0x116)+_0x26e27d[_0x574422(0x12a)]+_0x574422(0xe3)+_0x26e27d['id']+_0x574422(0x109),_0x5eecf6[_0x574422(0xe7)](_0x44710e);});}function promptBlogPassword(_0xb7b923){const _0x4e88a2=a0_0xc567aa;currentBlogId=_0xb7b923;const _0x458e1f=blogs[_0x4e88a2(0x130)](_0x48ce99=>_0x48ce99['id']===_0xb7b923);document[_0x4e88a2(0xf2)](_0x4e88a2(0xfc))[_0x4e88a2(0x10d)]=_0x458e1f[_0x4e88a2(0x127)]+_0x4e88a2(0x12f),document['getElementById'](_0x4e88a2(0x12c))['value']='',document[_0x4e88a2(0xf2)](_0x4e88a2(0x152))[_0x4e88a2(0x105)]['display']=_0x4e88a2(0x14f);}function checkBlogPassword(){const _0x16b368=a0_0xc567aa,_0x574401=document['getElementById'](_0x16b368(0x12c))[_0x16b368(0x121)],_0x1bb40f=blogs[_0x16b368(0x130)](_0x52bf4b=>_0x52bf4b['id']===currentBlogId);_0x574401===_0x1bb40f['password']?(document[_0x16b368(0xf2)](_0x16b368(0x152))[_0x16b368(0x105)][_0x16b368(0xff)]=_0x16b368(0x138),openBlogModal(currentBlogId)):alert(_0x16b368(0x11a));}function a0_0x1766(_0x3d19fa,_0x589414){const _0x2d7be0=a0_0x2d7b();return a0_0x1766=function(_0x1766a3,_0x4bc94f){_0x1766a3=_0x1766a3-0xde;let _0x12ac0f=_0x2d7be0[_0x1766a3];return _0x12ac0f;},a0_0x1766(_0x3d19fa,_0x589414);}function openBlogModal(_0x29283d){const _0x422def=a0_0xc567aa;currentBlogId=_0x29283d;const _0x4fb253=blogs[_0x422def(0x130)](_0x1a1a8e=>_0x1a1a8e['id']===_0x29283d);document[_0x422def(0xf2)]('blog-title')['textContent']=_0x4fb253['title'],document[_0x422def(0xf2)](_0x422def(0x117))[_0x422def(0x13e)]=_0x4fb253['content'],document[_0x422def(0xf2)](_0x422def(0x12d))[_0x422def(0x105)][_0x422def(0xff)]='flex',messages=[];const _0x5b29b2=document[_0x422def(0xf2)](_0x422def(0xe6));_0x5b29b2[_0x422def(0x13e)]='<p\x20class=\x27no-messages\x27>Xabarlar\x20yuklanmoqda...</p>',fetchMessages(_0x29283d);}function closeBlogModal(){const _0x28e7b7=a0_0xc567aa;document[_0x28e7b7(0xf2)](_0x28e7b7(0x12d))[_0x28e7b7(0x105)][_0x28e7b7(0xff)]='none',currentBlogId=null,replyingTo=null,document[_0x28e7b7(0xf2)](_0x28e7b7(0x10b))[_0x28e7b7(0xf3)]=_0x28e7b7(0x11c);}function fetchMessages(_0x3152ec){const _0x5d68a1=a0_0xc567aa;fetch(_0x5d68a1(0xe2))['then'](_0x9e92e9=>{const _0x3a3061=_0x5d68a1;if(!_0x9e92e9['ok'])throw new Error('Failed\x20to\x20fetch\x20messages');return _0x9e92e9[_0x3a3061(0x12b)]();})[_0x5d68a1(0x112)](_0x25a053=>{const _0x3d16d3=_0x5d68a1;console['log'](_0x3d16d3(0x10e),_0x25a053),messages=_0x25a053['filter'](_0x1a8e93=>_0x1a8e93[_0x3d16d3(0xf1)]===_0x3152ec)[_0x3d16d3(0x101)](_0x46785a=>{const _0x28aebd=_0x3d16d3;return!_0x46785a['id']&&(_0x46785a['id']=Date[_0x28aebd(0xec)]()[_0x28aebd(0x11b)]()+Math['random']()[_0x28aebd(0x11b)](0x24)[_0x28aebd(0x137)](0x2,0x9),console[_0x28aebd(0xe5)](_0x28aebd(0x104),_0x46785a)),_0x46785a;}),console[_0x3d16d3(0x111)](_0x3d16d3(0x11f),messages),displayMessages();})['catch'](_0x435631=>{const _0x119a9e=_0x5d68a1;console[_0x119a9e(0x140)](_0x119a9e(0x145),_0x435631),document[_0x119a9e(0xf2)](_0x119a9e(0xe6))[_0x119a9e(0x13e)]='<p\x20class=\x27no-messages\x27>Xabarlar\x20yuklanmadi</p>';});}function sendMessage(){const _0x2c5edb=a0_0xc567aa,_0x125198=document[_0x2c5edb(0xf2)](_0x2c5edb(0x10b))[_0x2c5edb(0x121)];if(_0x125198[_0x2c5edb(0xdf)]()&&currentBlogId){const _0x1a0fdb=new Date()['toLocaleString']()['slice'](0x0,0x10),_0x2db6ae={'username':username,'text':_0x125198,'timestamp':_0x1a0fdb,'blogId':currentBlogId,'replyTo':replyingTo?replyingTo['id']:null,'id':Date[_0x2c5edb(0xec)]()['toString']()};messages[_0x2c5edb(0x115)](_0x2db6ae),displayMessages(),sendToGoogleSheets(_0x2db6ae),document[_0x2c5edb(0xf2)](_0x2c5edb(0x10b))[_0x2c5edb(0x121)]='',replyingTo=null,document[_0x2c5edb(0xf2)]('messageInput')[_0x2c5edb(0xf3)]=_0x2c5edb(0x11c);}else alert(_0x2c5edb(0x125));}function sendToGoogleSheets(_0x198ef9){const _0x1904af=a0_0xc567aa;fetch(_0x1904af(0xe2),{'method':'POST','mode':_0x1904af(0x123),'headers':{'Content-Type':_0x1904af(0x106)},'body':JSON['stringify']({'data':[_0x198ef9]})})['then'](()=>console[_0x1904af(0x111)](_0x1904af(0x147),_0x198ef9))[_0x1904af(0xf0)](_0xc36507=>console[_0x1904af(0x140)]('Error\x20sending\x20message:',_0xc36507));}function displayMessages(){const _0x3cc4a5=a0_0xc567aa,_0x2f6277=document[_0x3cc4a5(0xf2)](_0x3cc4a5(0xe6));_0x2f6277['innerHTML']='';if(messages[_0x3cc4a5(0x129)]===0x0){_0x2f6277[_0x3cc4a5(0x13e)]=_0x3cc4a5(0x150);return;}messages[_0x3cc4a5(0xfd)](_0xc22479=>{const _0x304a1a=_0x3cc4a5,_0x5a1038=document[_0x304a1a(0xeb)](_0x304a1a(0xee));_0x5a1038[_0x304a1a(0x102)]['add'](_0x304a1a(0x114)),_0x5a1038[_0x304a1a(0x102)][_0x304a1a(0xfe)](_0xc22479[_0x304a1a(0xed)]===username?_0x304a1a(0xef):_0x304a1a(0x122));let _0x2042fb='';if(_0xc22479['replyTo']){const _0x3f6946=messages[_0x304a1a(0x130)](_0x1c5e57=>_0x1c5e57['id']===_0xc22479[_0x304a1a(0xf9)]);_0x3f6946?_0x2042fb=_0x304a1a(0x13a)+_0x3f6946['id']+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3f6946[_0x304a1a(0xed)]+':\x20</span>'+_0x3f6946[_0x304a1a(0x124)][_0x304a1a(0x13d)](0x0,0x1e)+'...\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x2042fb=_0x304a1a(0x126);}_0x5a1038[_0x304a1a(0x13e)]=_0x304a1a(0x132)+_0x2042fb+'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22username\x22>'+_0xc22479[_0x304a1a(0xed)]+_0x304a1a(0x141)+_0xc22479[_0x304a1a(0x124)]+_0x304a1a(0xea)+_0xc22479['timestamp']+_0x304a1a(0x103)+_0xc22479['id']+'\x27)\x22>Reply</button>\x0a\x20\x20\x20\x20',_0x5a1038[_0x304a1a(0x119)]['id']=_0xc22479['id'],_0x2f6277['appendChild'](_0x5a1038);}),_0x2f6277[_0x3cc4a5(0x136)]=_0x2f6277[_0x3cc4a5(0xf8)];}function setReplyingTo(_0x50802b){const _0x6974ff=a0_0xc567aa;console[_0x6974ff(0x111)](_0x6974ff(0x134),_0x50802b,messages),replyingTo=messages[_0x6974ff(0x130)](_0x5bc00d=>_0x5bc00d['id']==_0x50802b),replyingTo?(console[_0x6974ff(0x111)](_0x6974ff(0x14a),replyingTo),document['getElementById'](_0x6974ff(0x10b))[_0x6974ff(0xf3)]=_0x6974ff(0xf4)+replyingTo[_0x6974ff(0xed)]+_0x6974ff(0x151),document[_0x6974ff(0xf2)]('messageInput')[_0x6974ff(0x13b)]()):(console[_0x6974ff(0x140)](_0x6974ff(0x133),_0x50802b),console['log']('Current\x20messages\x20array:',messages),alert('Reply\x20qilinadigan\x20xabar\x20topilmadi!'));}function highlightMessage(_0x1b049e){const _0x5a4966=a0_0xc567aa,_0x451f47=document[_0x5a4966(0x11e)](_0x5a4966(0xf5)+_0x1b049e+'\x22]');_0x451f47?(_0x451f47[_0x5a4966(0x102)]['add'](_0x5a4966(0x10f)),setTimeout(()=>_0x451f47[_0x5a4966(0x102)][_0x5a4966(0xe4)](_0x5a4966(0x10f)),0x7d0)):console[_0x5a4966(0x140)](_0x5a4966(0x142),_0x1b049e);}setInterval(()=>{const _0x404485=a0_0xc567aa,_0xd7c2ea=JSON[_0x404485(0xe9)](localStorage[_0x404485(0x100)](_0x404485(0x131)));_0xd7c2ea&&_0xd7c2ea['expiry']<=Date[_0x404485(0xec)]()&&(localStorage[_0x404485(0x128)]('authData'),document[_0x404485(0xf2)](_0x404485(0x148))[_0x404485(0x105)][_0x404485(0xff)]=_0x404485(0x14f),document[_0x404485(0xf2)](_0x404485(0x149))[_0x404485(0x105)][_0x404485(0xff)]=_0x404485(0x138),document[_0x404485(0xf2)](_0x404485(0x12d))['style'][_0x404485(0xff)]=_0x404485(0x138),document[_0x404485(0xf2)](_0x404485(0x152))[_0x404485(0x105)][_0x404485(0xff)]=_0x404485(0x138));},0xea60);